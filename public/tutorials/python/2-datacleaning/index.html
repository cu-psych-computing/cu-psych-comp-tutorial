<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.102.3" />

  
  <meta name="description" content="CU Psychology Scientific Computing">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="../../../apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="../../../favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="../../../favicon-16x16.png">

  
  <link rel="manifest" href="../../../site.webmanifest">

  
  <link rel="mask-icon" href="../../../safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="../../../css/bootstrap.min.css" />
  
  
  <link
    rel="stylesheet"
    href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css"
  />

  <script src="https://kit.fontawesome.com/7eb067db85.js" crossorigin="anonymous"></script>
  
  

  
  <title>Data Cleaning in Python | Columbia Psychology Scientific Computing</title>
  

  <style>

.h1, h1 {
  font-size:42px;
  font-weight:600;
  margin-top: -51px;
  padding-top: 76px;
  padding-bottom: 25px;
}

.h2, h2 {
  font-size:32px;
  font-weight:600;
  margin-top: -51px;
  padding-top: 99px;
  padding-bottom: 16px;
}

.h3, h3 {
  font-size:22px;
  font-weight:600;
  margin-top: -51px;
  padding-top: 81px;
  padding-bottom: 16px;
}

.h4, h4 {
  font-size:15px;
  font-weight:600;
  font-style:italic;
  margin-top: -51px;
  padding-top: 61px;
  padding-bottom: 10px;
}

.h5, h5 {
  font-size:15px;
}

.h6, h6 {
  font-size:15px;
}

body {
  min-width: 300px;
  font-size:15px;
  color: #212529;
  margin-top: 51px;
}

a {
  color: #007bff;
}

a:hover,
a:focus {
  color: #0056b3;
  text-decoration: none;
}

.navbar-light {
  padding: 10px 3%;
  margin-bottom: 1em;
  background-color: #f8f9fa;
  box-shadow: 0 1px 3px rgba(0,0,0,.11);
  font-size: 14px;
}

.navbar-brand {
  font-size: 17px;
  font-weight: 600;
  color: #007bff;
}

.navbar-light .navbar-nav .nav-link {
  font-size: 14px;
  color: #212529;
}

.navbar-light .navbar-nav .nav-link:hover,
.navbar-light .navbar-nav .nav-link:focus {
  text-decoration: none;
  color: #007bff;
}

.dropdown-menu {
  margin-top: 10px;
  padding: 10px 3%;
  margin-bottom: 1em;
  background-color: #f8f9fa;
  box-shadow: 0 1px 3px rgba(0,0,0,.11);
  font-size: 14px;
  border-radius: 0;
  border-style: none;
}

.dropdown-toggle::after {
    content: none;
}

@media only screen and (max-width: 768px) {
  .dropdown-menu {
    margin: 0;
    padding: 0;
    box-shadow: none;
  }
}

@media print {
  .navbar {
    display: none;
  }
}

.navbar-light .navbar-toggler {
  border: none;
}

article {
  padding-top: 30px;
  padding-bottom: 80px;
  padding-left: 5%;
  padding-right: 5%;
}

.container {
  max-width: 1000px;
}

img {
  max-width: 100%;
}


pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}


.footer {
  padding:15px 0;
  text-align:center;
  background-color:#262626;
  color:#ffffff;
  font-size:12px;
  width: 100%;
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
}

@media only screen and (max-width: 768px) {
  .footer {
    position: static;
  }
}

@media print {
  .footer {
    display: none;
  }
}

div .highlightsec {
  background-color: #eee;
  padding: 20px 20px 5px 20px;
  border-left:solid #007bff 3px;
}

div .breadcrumb {
  background-color: #fff;
  margin: 0;
  padding: 20px 0 0 0;
  font-size: 12px;
}

.accordion .card,
.accordion .card:last-child .card-header {
  border: none;
}

.accordion .card-header {
  padding: 0 0 0 7px;
  color: #212529;
  border-bottom-color: #ffffff;
}

.accordion .card-header h2 {
  margin: 0;
  padding: 0;
}

.accordion .btn-link,
.accordion .btn-link {
  text-decoration: none;
  color: #212529;
}

.accordion .btn-link:hover {
  text-decoration: none;
  color: #0056b3;
}

.accordion .btn-link:focus {
  text-decoration: none;
  color: #212529;
}

nav[data-toggle=toc] .nav-link.active, nav[data-toggle=toc] .nav-link.active:focus, nav[data-toggle=toc] .nav-link.active:hover, nav[data-toggle=toc] .nav>li>a:hover {
    color: #007bff;
    border-left: 2px solid #007bff;
}

 
@media (max-width: 768px) {
   
  nav.affix[data-toggle='toc'] {
    position: static;
  }

   
   
  nav[data-toggle='toc'] .nav .active .nav {
    display: none;
  }
   
   
}

pre {
  border: 0px;
}

div.sourceCode {
    background-color: #f5f5f5!important;
    border: 1px solid #ccc;
}

.video-container {
    overflow:hidden;
    padding-bottom:56.25%;
    position:relative;
    height:0;
}
.video-container iframe{
    left:0;
    top:0;
    height:100%;
    width:100%;
    position:absolute;
}

button {
    background-color: #007bff;
    border: none;
    color: white;
    margin-bottom: 15px;
    padding: 10px 15px;
    border-radius: 5px;
    cursor:pointer;
}

.button-workshop {
  margin-top: -10px;
}

button:hover,
button:focus {
  background-color: #0056b3;
  cursor: pointer;
  border: none;
}

</style>
</head>

<body data-spy="scroll" data-target="#toc">
  <nav class="navbar navbar-expand-lg navbar-light bg-ligh fixed-top">
  <div class="container responsive-menu">
    <a class="navbar-brand" href="../../../">Columbia Psychology Scientific Computing</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
      aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <i class="fa fa-bars"></i>
          </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
          
      <ul class="navbar-nav ml-auto">
          
              
        <li class="nav-item">
          <a class="nav-link" href="../../../who/">
            
              <span>Who We Are</span>
          </a>
        </li>
          
        
              
        <li class="nav-item">
          <a class="nav-link" href="../../../workshop/">
            
              <span>Intro Workshop</span>
          </a>
        </li>
          
        
              
        <li class="nav-item">
          <a class="nav-link" href="../../../meetings/">
            
              <span>Meetings</span>
          </a>
        </li>
          
        
              
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="../../../tutorials/" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true"
            aria-expanded="false">
              
              <span>Tutorials</span>
                </a>
          <div class="dropdown-menu" aria-labelledby="navbarDropdown">
              
            <a class="dropdown-item" href="../../../tutorials/r-core/">Introductory R Tutorial</a>
              
            <a class="dropdown-item" href="../../../tutorials/r-extra/">Additional R Tutorials</a>
              
            <a class="dropdown-item" href="../../../tutorials/python/">Introductory Python Tutorial</a>
              
            <a class="dropdown-item" href="../../../accessing-files/">Instructions for Accessing Files</a>
              
          </div>
        </li>
        
        
              
        <li class="nav-item">
          <a class="nav-link" href="../../../resources/">
            
              <span>Resources</span>
          </a>
        </li>
          
        
              
        <li class="nav-item">
          <a class="nav-link" href="../../../license/">
            
              <span>License</span>
          </a>
        </li>
          
        
      </ul>
    </div>
  </div>
</nav>
  
<script src="../../../js/jquery-3.3.1.slim.min.js"></script>
<script src="../../../js/bootstrap.bundle.min.js"></script>

    
  <script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script>
  
  
  <script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-123456789-1', 'auto');
  ga('send', 'pageview');
  </script>
  <script async src='https://www.google-analytics.com/analytics.js'></script>
  

  

  
  
  <div class="container">
    <article>
      
<div class="container">
  <div class="row">
    <div class="col-sm-3 sticky">
      <nav id="toc" data-toggle="toc" class="sticky-top" style="top:100px;"></nav>
    </div>
  <div class="col-sm-9">
    


  <div class="breadcrumb">
    
  
    
  
    
  
    
  

    <a href="../../../">Home</a>&nbsp;>&nbsp; 
  

    <a href="../../../tutorials/">Tutorials</a>&nbsp;>&nbsp; 
  

    <a href="../../../tutorials/python/">Introductory Python Tutorial</a>&nbsp;>&nbsp; 
  

    Data Cleaning in Python
  </div>


<h1 style="padding-bottom:0">Data Cleaning in Python</h1>
<p>
  
  
  

<small><code><a href="../../../tags/core">core</a></code></small>


<small><code><a href="../../../tags/python">python</a></code></small>

</p>
<hr>
<h2 id="goals-of-this-lesson">Goals of this Lesson</h2>
<h3 id="students-will-learn">Students will learn:</h3>
<ol>
<li>How to open various data types in Python</li>
<li>How to check for missing or problematic data and address issues</li>
<li>How to filter, rearrange and shape data in preparation for analysis</li>
</ol>
<h2 id="links-to-files-and-video-recording">Links to Files and Video Recording</h2>
<p>The files for all tutorials can be downloaded from <a href="https://github.com/cu-psych-computing/cu-psych-comp-tutorial">the Columbia Psychology Scientific Computing GitHub page</a> using <a href="../../../accessing-files/">these instructions</a>. This particular file is located here: <code>/content/tutorials/python/2-datacleaning/index.ipynb</code>.</p>
<p>For a video recording of this tutorial from the Fall 2020 workshop, please visit the <a href="../../../workshop-recording/session3/" target="_blank">Workshop Recording: Session 3</a> page.</p>
<hr>
<h2 id="a-quick-introduction-to-python-scientific-computing-modules">A Quick Introduction to Python Scientific Computing Modules</h2>
<p>As a programming languge, Python can do quite a lot. For example, it is an extremely popular choice for GUI and web-based application development (Reddit, Google, Facebook), databases (Spotify, Netflix), and scientific computing (NASA, for example, but also us!).</p>
<p>One reason that Python is so widely used is due to its extensive library of third-party modules. Let&rsquo;s start by briefly covering the most important modules for scientific computing, some (but not all) of which we&rsquo;ll be using today.</p>
<h4 id="data-analysis">Data Analysis</h4>
<ul>
<li>NumPy: The fundamental package for scientific computing in Python. NumPy provides Python with most of the functionality of MATLAB.</li>
<li>SciPy: Provides many user-friendly and efficient numerical routines such as routines for numerical integration, interpolation, optimization, linear algebra and statistics.</li>
<li>Pandas: Provides high-performance, easy-to-use data structures and data analysis tools. Pandas provides Python with most of the functionality of R.</li>
</ul>
<h4 id="data-visualization">Data Visualization</h4>
<ul>
<li>Matplotlib: Python 2D plotting library which produces publication quality figures. The pyplot module provides a MATLAB-like interface and is what most people use.</li>
<li>Seaborn: A Python data visualization library based on matplotlib. It provides a high-level interface for drawing attractive and informative statistical graphics.</li>
</ul>
<p>We&rsquo;ll now import a few of these modules using their standard abbreviations.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">numpy</span> <span style="color:#204a87;font-weight:bold">as</span> <span style="color:#000">np</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">pandas</span> <span style="color:#204a87;font-weight:bold">as</span> <span style="color:#000">pd</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">matplotlib.pyplot</span> <span style="color:#204a87;font-weight:bold">as</span> <span style="color:#000">plt</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">seaborn</span> <span style="color:#204a87;font-weight:bold">as</span> <span style="color:#000">sns</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">sns</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">set_context</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;poster&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">sns</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">set</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">style</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;ticks&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">font</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;Arial&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">font_scale</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><p>In order to call one of the functions belonging to a particular module, you can use the <code>.</code> syntax. For example, <code>numpy</code> has a <code>mean()</code> function which will compute the arithmetic mean across an axis. If we wanted to call that function, we would simply write:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">np</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">mean</span><span style="color:#000;font-weight:bold">([</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">6</span><span style="color:#000;font-weight:bold">])</span>
</span></span></code></pre></div><pre><code>4.0
</code></pre>
<p>For those coming from R, this is the equivalent of something like <code>dplyr::filter()</code>. Python is stricter than R about making sure you specify which library the function you are using comes from.</p>
<p>Now that you&rsquo;re familiar with the basics of modules in Python, let&rsquo;s go ahead and move on to some data cleaning.</p>
<hr>
<h2 id="python-data-structures">Python Data Structures</h2>
<p>There are a few ways that data can be stored and manipulated in Python, some of which you&rsquo;ve already covered.</p>
<p>To review, the first and most basic is a list:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mylist</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mylist</span>
</span></span></code></pre></div><pre><code>[1, 2, 3]
</code></pre>
<p>Lists can be arbitrarily long and can store hold multiple types of data, although this isn&rsquo;t usually a good idea:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mylist2</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span><span style="color:#4e9a06">&#34;2&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">3.0</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">]]</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mylist2</span>
</span></span></code></pre></div><pre><code>[1, '2', 3.0, [4, 5]]
</code></pre>
<p>Similar to lists, the <code>numpy</code> module provides the ability to work with n-dimensional arrays for <strong>numerical</strong> data only. We can initialize an array full of zeros using the <code>np.zeros()</code> function:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">myarray</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">np</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">zeros</span><span style="color:#000;font-weight:bold">((</span><span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000">myarray</span>
</span></span></code></pre></div><pre><code>array([0., 0., 0., 0., 0., 0., 0., 0., 0., 0.])
</code></pre>
<p>If we want to work with numerical data that has two dimensions, we can create a matrix in a very similar way:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mymatrix</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">np</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">zeros</span><span style="color:#000;font-weight:bold">((</span><span style="color:#0000cf;font-weight:bold">10</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">))</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mymatrix</span>
</span></span></code></pre></div><pre><code>array([[0., 0.],
       [0., 0.],
       [0., 0.],
       [0., 0.],
       [0., 0.],
       [0., 0.],
       [0., 0.],
       [0., 0.],
       [0., 0.],
       [0., 0.]])
</code></pre>
<p>We won&rsquo;t be working much with <code>numpy</code> arrays directly today, but you should know that they are often a better option than lists when you are working with numerical data.</p>
<p>Today, we will primarily be working with <code>pandas</code> dataframes. This object provides functionality that is very similar to dataframes in R. Let&rsquo;s start by converting our empty matrix into a dataframe. We can also give each of our columns more informative names:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydataframe</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">pd</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">DataFrame</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">mymatrix</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">columns</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;Height&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#4e9a06">&#34;Weight&#34;</span><span style="color:#000;font-weight:bold">])</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydataframe</span>
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Height</th>
      <th>Weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>6</th>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>7</th>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>8</th>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>9</th>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
</div>
<p>Another way we can create a dataframe is by first creating a <strong>dictionary</strong> and then converting this to a dataframe. A dictionary is another type of data structure used by Python. Dictionaries consist of an unordered collection of key-value pairs. Keys are used to index the dictionary in order to access the values associated with that key. Let&rsquo;s start by making a simple dictionary with one key and one value:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">data</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">{</span><span style="color:#4e9a06">&#39;name&#39;</span><span style="color:#000;font-weight:bold">:[</span><span style="color:#4e9a06">&#34;Monica&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#4e9a06">&#34;Michelle&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#4e9a06">&#34;Paul&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#4e9a06">&#34;Ellen&#34;</span><span style="color:#000;font-weight:bold">]}</span>
</span></span><span style="display:flex;"><span><span style="color:#000">data</span>
</span></span></code></pre></div><pre><code>{'name': ['Monica', 'Michelle', 'Paul', 'Ellen']}
</code></pre>
<p>If we index this dictionary using the <code>name</code> key, it will return the its value, which is a list of names:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">data</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;name&#39;</span><span style="color:#000;font-weight:bold">]</span>
</span></span></code></pre></div><pre><code>['Monica', 'Michelle', 'Paul', 'Ellen']
</code></pre>
<p>We can also add new key-value pairs to this dictionary:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">data</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;score&#39;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">16</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">20</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">19</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">35</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#000">data</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;year&#39;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">5</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#000">data</span>
</span></span></code></pre></div><pre><code>{'name': ['Monica', 'Michelle', 'Paul', 'Ellen'],
 'score': [16, 20, 19, 35],
 'year': [2, 5, 2, 1]}
</code></pre>
<p>Similar to how we made a dataframe from our <code>numpy</code> array above, we can easily make a dataframe from this dictionary:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">dataframe</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">pd</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">DataFrame</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">data</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">dataframe</span>
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>name</th>
      <th>score</th>
      <th>year</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Monica</td>
      <td>16</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Michelle</td>
      <td>20</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Paul</td>
      <td>19</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Ellen</td>
      <td>35</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
<h2 id="reading-data-into-python">Reading Data into Python</h2>
<hr>
<p>It&rsquo;s easy to introduce errors if you are entering data manually like above, and with a lot of data it would get tedious. Most of the time, you&rsquo;ll be reading data from an external file (.txt or .csv), or opening up an existing dataset in Python. Once you find the location of your files, what you do next will depend on the file format.</p>
<h4 id="reminder-about-the-os-module">Reminder about the <code>os</code> module</h4>
<p>This module provides a way to interface with the operating system we are running Python on (Windows, Mac, or Linux). Let&rsquo;s start by first loading this module:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">os</span>
</span></span></code></pre></div><h4 id="its-always-important-to-check-where-our-working-directory-is-when-trying-to-read-data-into-python">It&rsquo;s always important to check where our working directory is when trying to read data into Python.</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">os</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">getcwd</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><pre><code>'/Users/emily/Documents/GitHub/cu-psych-comp-tutorial/content/tutorials/python/2-datacleaning'
</code></pre>
<p>You can access a list of everything (all files and directories) within your working directory using the <code>os.listdir()</code> function&hellip;</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">os</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">listdir</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><pre><code>['.DS_Store',
 'Study1_Followup.csv',
 'index.md',
 'Study2_Subjects.csv',
 'Study1_clean.csv',
 '.ipynb_checkpoints',
 'Study1.csv',
 'challenge',
 'README_Study2.txt',
 'Study2_Trials.csv',
 'index.ipynb']
</code></pre>
<p>&hellip;as well as in the &ldquo;Files&rdquo; tab on the left-hand side of the JupyterLab window.</p>
<h4 id="what-kind-of-file-do-you-have">What kind of file do you have?</h4>
<p>For .txt, .csv, or any kind of delimited (such as tab-delimited) file, you can use the <code>pandas</code> function <code>read_table()</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#help(pd.read_table)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">pd</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">read_table</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Study1.csv&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">sep</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;,&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><p>If you know you have a .csv file, another common option is <code>read_csv()</code>, which has a default comma separator.</p>
<p>Remember, all of these commands can have arguments that will help Python make sense of your data. To find out what arguments are possible, you can use the <code>help()</code> function like we did above to look at what <code>read_table()</code> does.</p>
<p>To do this, just put whatever command you would like to learn about inside of <code>help()</code> (e.g. <code>help(pd.read_table)</code>). Remember that for functions associated with a particular module you will need to tell Python which module they come from using the <code>.</code> syntax.</p>
<p>You can always also Google a function to quickly find this information.</p>
<h3 id="inspecting-your-data">Inspecting your data</h3>
<p>Now that you have data, it&rsquo;s time to get some results! But wait! Are you sure this data is OK? Doing some basic steps to inspect your data now can save you lots of headaches later, and Python makes it really easy.</p>
<p>Start by checking that you have the expected number of rows and columns in your data frame. You can do this by by asking Python:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># get the number of rows and columns</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">shape</span>
</span></span></code></pre></div><pre><code>(50, 9)
</code></pre>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># get the names of columns</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">columns</span>
</span></span></code></pre></div><pre><code>Index(['ID', 'Age', 'Sex', 'Condition', 'Personality', 'T1', 'T2', 'T3', 'T4'], dtype='object')
</code></pre>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># take a peek at the first few rows</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">head</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Age</th>
      <th>Sex</th>
      <th>Condition</th>
      <th>Personality</th>
      <th>T1</th>
      <th>T2</th>
      <th>T3</th>
      <th>T4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>21.0</td>
      <td>Female</td>
      <td>0</td>
      <td>67</td>
      <td>5</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>22.0</td>
      <td>Female</td>
      <td>1</td>
      <td>63</td>
      <td>4</td>
      <td>1</td>
      <td>5</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>24.0</td>
      <td>Male</td>
      <td>1</td>
      <td>58</td>
      <td>6</td>
      <td>2</td>
      <td>6</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>22.0</td>
      <td>Female</td>
      <td>1</td>
      <td>51</td>
      <td>2</td>
      <td>3</td>
      <td>6</td>
      <td>5</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>19.0</td>
      <td>Female</td>
      <td>0</td>
      <td>49</td>
      <td>7</td>
      <td>6</td>
      <td>5</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>
<h3 id="rename-a-variable">Rename a variable</h3>
<p>Now that we&rsquo;ve loaded our data into Python and have made sure it makes sense, we can start manipulating and cleaning it.</p>
<p>Look back at your dataframe. What is the fifth variable? What does that even mean? Luckily, this is your study and you know that it&rsquo;s a personality questionnaire measuring neuroticism. Let&rsquo;s fix that name and make it more intuitive:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">rename</span><span style="color:#000;font-weight:bold">({</span><span style="color:#4e9a06">&#39;Personality&#39;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#39;Neuroticism&#39;</span><span style="color:#000;font-weight:bold">},</span> <span style="color:#000">axis</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;columns&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">head</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Age</th>
      <th>Sex</th>
      <th>Condition</th>
      <th>Neuroticism</th>
      <th>T1</th>
      <th>T2</th>
      <th>T3</th>
      <th>T4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>21.0</td>
      <td>Female</td>
      <td>0</td>
      <td>67</td>
      <td>5</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>22.0</td>
      <td>Female</td>
      <td>1</td>
      <td>63</td>
      <td>4</td>
      <td>1</td>
      <td>5</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>24.0</td>
      <td>Male</td>
      <td>1</td>
      <td>58</td>
      <td>6</td>
      <td>2</td>
      <td>6</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>22.0</td>
      <td>Female</td>
      <td>1</td>
      <td>51</td>
      <td>2</td>
      <td>3</td>
      <td>6</td>
      <td>5</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>19.0</td>
      <td>Female</td>
      <td>0</td>
      <td>49</td>
      <td>7</td>
      <td>6</td>
      <td>5</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>
<p>We can also rename multiple variables at once:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">rename</span><span style="color:#000;font-weight:bold">({</span><span style="color:#4e9a06">&#39;T1&#39;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#39;Day1&#39;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#4e9a06">&#39;T2&#39;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#39;Day2&#39;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#4e9a06">&#39;T3&#39;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#39;Day3&#39;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>                        <span style="color:#4e9a06">&#39;T4&#39;</span><span style="color:#000;font-weight:bold">:</span><span style="color:#4e9a06">&#39;Day4&#39;</span><span style="color:#000;font-weight:bold">},</span> <span style="color:#000">axis</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;columns&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">head</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Age</th>
      <th>Sex</th>
      <th>Condition</th>
      <th>Neuroticism</th>
      <th>Day1</th>
      <th>Day2</th>
      <th>Day3</th>
      <th>Day4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>21.0</td>
      <td>Female</td>
      <td>0</td>
      <td>67</td>
      <td>5</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>22.0</td>
      <td>Female</td>
      <td>1</td>
      <td>63</td>
      <td>4</td>
      <td>1</td>
      <td>5</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>24.0</td>
      <td>Male</td>
      <td>1</td>
      <td>58</td>
      <td>6</td>
      <td>2</td>
      <td>6</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>22.0</td>
      <td>Female</td>
      <td>1</td>
      <td>51</td>
      <td>2</td>
      <td>3</td>
      <td>6</td>
      <td>5</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>19.0</td>
      <td>Female</td>
      <td>0</td>
      <td>49</td>
      <td>7</td>
      <td>6</td>
      <td>5</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>
<h3 id="adding-a-new-column">Adding a new column</h3>
<p>Often we&rsquo;ll want to add some new data into a dataframe.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># here we add a column where are the values are the same string</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;studyName&#39;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#4e9a06">&#39;study1&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># here we add a column &#39;random&#39; of 50 unique random numbers</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;random&#39;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">np</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">random</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">random</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">50</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">head</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Age</th>
      <th>Sex</th>
      <th>Condition</th>
      <th>Neuroticism</th>
      <th>Day1</th>
      <th>Day2</th>
      <th>Day3</th>
      <th>Day4</th>
      <th>studyName</th>
      <th>random</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>21.0</td>
      <td>Female</td>
      <td>0</td>
      <td>67</td>
      <td>5</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>study1</td>
      <td>0.726704</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>22.0</td>
      <td>Female</td>
      <td>1</td>
      <td>63</td>
      <td>4</td>
      <td>1</td>
      <td>5</td>
      <td>2</td>
      <td>study1</td>
      <td>0.118629</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>24.0</td>
      <td>Male</td>
      <td>1</td>
      <td>58</td>
      <td>6</td>
      <td>2</td>
      <td>6</td>
      <td>2</td>
      <td>study1</td>
      <td>0.925191</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>22.0</td>
      <td>Female</td>
      <td>1</td>
      <td>51</td>
      <td>2</td>
      <td>3</td>
      <td>6</td>
      <td>5</td>
      <td>study1</td>
      <td>0.639571</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>19.0</td>
      <td>Female</td>
      <td>0</td>
      <td>49</td>
      <td>7</td>
      <td>6</td>
      <td>5</td>
      <td>2</td>
      <td>study1</td>
      <td>0.579511</td>
    </tr>
  </tbody>
</table>
</div>
<p>For those coming from R, the Python syntax for referencing columns as <code>df[&quot;columnName&quot;]</code> is roughly equivalent to using R&rsquo;s <code>$</code> operator.</p>
<h3 id="removing-columns">Removing Columns</h3>
<p>We can remove columns with the <code>.drop()</code> function</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">drop</span><span style="color:#000;font-weight:bold">([</span><span style="color:#4e9a06">&#39;random&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#39;studyName&#39;</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#000">axis</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><h2 id="indexing-a-dataframe">Indexing a Dataframe</h2>
<p>Sometimes you might want to look at only a subset of the columns in a dataframe (for example, when there are many variables). Doing this with a <code>pandas</code> dataframe is relatively straightforward:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># indexing a single column</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ids</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[[</span><span style="color:#4e9a06">&#39;ID&#39;</span><span style="color:#000;font-weight:bold">]]</span>
</span></span><span style="display:flex;"><span><span style="color:#000">ids</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">head</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># indexing multiple columns</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata_subset</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[[</span><span style="color:#4e9a06">&#39;ID&#39;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#4e9a06">&#39;Age&#39;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#4e9a06">&#39;Neuroticism&#39;</span><span style="color:#000;font-weight:bold">]]</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata_subset</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">head</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Age</th>
      <th>Neuroticism</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>21.0</td>
      <td>67</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>22.0</td>
      <td>63</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>24.0</td>
      <td>58</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>22.0</td>
      <td>51</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>19.0</td>
      <td>49</td>
    </tr>
  </tbody>
</table>
</div>
<h3 id="using-loc-and-iloc-to-index-dataframes">Using .loc and .iloc to index DataFrames</h3>
<ul>
<li>If we want to pull out or manipulate specific pieces of dataframes, we can use the <code>.loc[]</code> and <code>.iloc[]</code> functions.</li>
<li>With both functions, the data referenced is always formatted as <code>[selection of rows, selection of columns]</code>.</li>
</ul>
<h4 id="loc-takes-selections-of-rows-from-named-columns"><code>.loc[]</code> takes selections of rows from named columns.</h4>
<p>So, here we&rsquo;re asking for elements 0:2 from the <code>Age</code> column:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">loc</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;Age&#39;</span><span style="color:#000;font-weight:bold">]]</span>
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>21.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>22.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>24.0</td>
    </tr>
  </tbody>
</table>
</div>
<p>We can also use conditional logic to select rows. Here, we ask for all elements in the <code>Age</code> column that are above 24:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">loc</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;Age&#39;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#0000cf;font-weight:bold">24</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;Age&#39;</span><span style="color:#000;font-weight:bold">]]</span>
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>5</th>
      <td>25.0</td>
    </tr>
    <tr>
      <th>17</th>
      <td>25.0</td>
    </tr>
    <tr>
      <th>25</th>
      <td>25.0</td>
    </tr>
    <tr>
      <th>27</th>
      <td>25.0</td>
    </tr>
    <tr>
      <th>37</th>
      <td>25.0</td>
    </tr>
  </tbody>
</table>
</div>
<h4 id="iloc-takes-selections-of-rows-and-columns-using-numeric-indices"><code>.iloc[]</code> takes selections of rows and columns using numeric indices.</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">iloc</span><span style="color:#000;font-weight:bold">[</span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">7</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">:</span><span style="color:#0000cf;font-weight:bold">4</span><span style="color:#000;font-weight:bold">]</span>
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Age</th>
      <th>Sex</th>
      <th>Condition</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>22.0</td>
      <td>Female</td>
      <td>1</td>
    </tr>
    <tr>
      <th>4</th>
      <td>19.0</td>
      <td>Female</td>
      <td>0</td>
    </tr>
    <tr>
      <th>5</th>
      <td>25.0</td>
      <td>Female</td>
      <td>1</td>
    </tr>
    <tr>
      <th>6</th>
      <td>24.0</td>
      <td>Female</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
<h3 id="check-for-missing-data">Check for missing data</h3>
<p>One problem you may have is missing data. Sometimes this is something you already know about, but you should check your data frame anyway to make sure nothing got missed in a data entry error. For small datasets, you can do this visually, but for larger ones you can ask Python.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">isnull</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#mydata.isnull().values.any()</span>
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Age</th>
      <th>Sex</th>
      <th>Condition</th>
      <th>Neuroticism</th>
      <th>Day1</th>
      <th>Day2</th>
      <th>Day3</th>
      <th>Day4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>5</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>6</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>7</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>8</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>9</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>10</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>11</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>12</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>13</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>14</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>15</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>16</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>17</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>18</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>19</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>20</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>21</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>22</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>23</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>24</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>25</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>26</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>27</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>28</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>29</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>30</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>31</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>32</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>33</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>34</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>35</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>36</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>37</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>38</th>
      <td>False</td>
      <td>True</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>39</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>40</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>41</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>42</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>43</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>44</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>45</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>46</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>47</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>48</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>49</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
</div>
<p>In this case, the missing value is the <code>Age</code> value in row 38. You know you have this info somewhere on a paper form, so you go dig it up and want to replace it.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Verify that this row contains the missing data</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">loc</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;ID&#34;</span><span style="color:#000;font-weight:bold">]</span><span style="color:#ce5c00;font-weight:bold">==</span><span style="color:#0000cf;font-weight:bold">39</span><span style="color:#000;font-weight:bold">]</span>
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Age</th>
      <th>Sex</th>
      <th>Condition</th>
      <th>Neuroticism</th>
      <th>Day1</th>
      <th>Day2</th>
      <th>Day3</th>
      <th>Day4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>38</th>
      <td>39</td>
      <td>NaN</td>
      <td>Female</td>
      <td>1</td>
      <td>53</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Replace row, column with the value 30</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">loc</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;ID&#34;</span><span style="color:#000;font-weight:bold">]</span><span style="color:#ce5c00;font-weight:bold">==</span><span style="color:#0000cf;font-weight:bold">39</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;Age&#34;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">30</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Verify that the replacement worked</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">loc</span><span style="color:#000;font-weight:bold">[</span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;ID&#34;</span><span style="color:#000;font-weight:bold">]</span><span style="color:#ce5c00;font-weight:bold">==</span><span style="color:#0000cf;font-weight:bold">39</span><span style="color:#000;font-weight:bold">]</span>
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Age</th>
      <th>Sex</th>
      <th>Condition</th>
      <th>Neuroticism</th>
      <th>Day1</th>
      <th>Day2</th>
      <th>Day3</th>
      <th>Day4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>38</th>
      <td>39</td>
      <td>30.0</td>
      <td>Female</td>
      <td>1</td>
      <td>53</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>
<h3 id="check-for-correct-values">Check for correct values</h3>
<p>Let&rsquo;s take a look at the <code>Sex</code> variable:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;Sex&#39;</span><span style="color:#000;font-weight:bold">]</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">head</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><pre><code>0    Female
1    Female
2      Male
3    Female
4    Female
Name: Sex, dtype: object
</code></pre>
<p>It looks like there are two categories here, but let&rsquo;s double check. We can use the <code>unique()</code> function to list all of the unique values in a column:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;Sex&#34;</span><span style="color:#000;font-weight:bold">]</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">unique</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><pre><code>array(['Female', 'Male', 'Femle'], dtype=object)
</code></pre>
<p>Here we see another data entry problem. At least one of the rows has a third category label that should really be another case of &ldquo;Female&rdquo;. Let&rsquo;s replace this label using the <code>replace()</code> function:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;Sex&#34;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;Sex&#34;</span><span style="color:#000;font-weight:bold">]</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">replace</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#39;Femle&#39;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#39;Female&#39;</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Verify that the replacement worked</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;Sex&#34;</span><span style="color:#000;font-weight:bold">]</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">unique</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><pre><code>array(['Female', 'Male'], dtype=object)
</code></pre>
<p>Now let&rsquo;s look at some of the continuous variables. You can also look at these by indexing them individually, but sometimes it&rsquo;s easier to visualize. The <code>hist()</code> function, which creates histograms, is good here.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;Age&#34;</span><span style="color:#000;font-weight:bold">]</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">hist</span><span style="color:#000;font-weight:bold">();</span>
</span></span></code></pre></div><p><img src="output_75_0.png" alt="png"></p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;Neuroticism&#34;</span><span style="color:#000;font-weight:bold">]</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">hist</span><span style="color:#000;font-weight:bold">();</span>
</span></span></code></pre></div><p><img src="output_76_0.png" alt="png"></p>
<p>Looks like we have a potential outlier on the <code>Neuroticism</code> score. This could be an entry error, but it could also be a real value that just happens to be really low. This is why data inspection is so important for later analysis — now that you know that the value is there, it&rsquo;s up to you to decide how to deal with it.</p>
<h3 id="filtering-data">Filtering data</h3>
<p>Let&rsquo;s say we have decided a prori to exclude outliers 3SD above or below the mean. We will first define these boundaries:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">upper</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">np</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">mean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;Neuroticism&#34;</span><span style="color:#000;font-weight:bold">])</span> <span style="color:#ce5c00;font-weight:bold">+</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">np</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">std</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;Neuroticism&#34;</span><span style="color:#000;font-weight:bold">])</span>
</span></span><span style="display:flex;"><span><span style="color:#000">lower</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">np</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">mean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;Neuroticism&#34;</span><span style="color:#000;font-weight:bold">])</span> <span style="color:#ce5c00;font-weight:bold">-</span> <span style="color:#0000cf;font-weight:bold">3</span><span style="color:#ce5c00;font-weight:bold">*</span><span style="color:#000">np</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">std</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;Neuroticism&#34;</span><span style="color:#000;font-weight:bold">])</span>
</span></span></code></pre></div><p>We can now use conditional indexing to exclude all rows with a <code>Neuroticism</code> score above or below these values:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[(</span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;Neuroticism&#34;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">&gt;</span> <span style="color:#000">lower</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;Neuroticism&#34;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">&lt;</span> <span style="color:#000">upper</span><span style="color:#000;font-weight:bold">)]</span>
</span></span></code></pre></div><p>The line above says: return only the <code>Neuroticism</code> values greater than the <code>lower</code> boundary and less than the <code>upper</code> boundary and then save it in the <code>mydata</code> variable.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Verify that we excluded 1 outlier</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">shape</span>
</span></span></code></pre></div><pre><code>(49, 9)
</code></pre>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;Neuroticism&#34;</span><span style="color:#000;font-weight:bold">]</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">hist</span><span style="color:#000;font-weight:bold">();</span>
</span></span></code></pre></div><p><img src="output_84_0.png" alt="png"></p>
<hr>
<h2 id="getting-ready-for-analysis">Getting Ready for Analysis</h2>
<p>Now that we&rsquo;ve gone through and cleaned up the problems, you can think ahead to how you&rsquo;ll want to use this data.</p>
<h3 id="recoding-variables">Recoding variables</h3>
<p>Sometimes we want to treat categorical variables as factors, but sometimes we want to pretend they&rsquo;re numeric (as in a regression, when binary variables can be coded as 0 and 1). Right now, <code>Condition</code> is coded as a binary numeric variable, but that&rsquo;s not very informative, so you&rsquo;d rather have the values be descriptive. Here, the function <code>replace()</code> is again useful:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;ConditionF&#39;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;Condition&#39;</span><span style="color:#000;font-weight:bold">]</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">replace</span><span style="color:#000;font-weight:bold">([</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">],</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;Control&#39;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#4e9a06">&#39;Treatment&#39;</span><span style="color:#000;font-weight:bold">])</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># Verify that your variable is now recoded as you&#39;d like</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[[</span><span style="color:#4e9a06">&#39;Condition&#39;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#4e9a06">&#39;ConditionF&#39;</span><span style="color:#000;font-weight:bold">]]</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">head</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Condition</th>
      <th>ConditionF</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>Control</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>Treatment</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>Treatment</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>Treatment</td>
    </tr>
    <tr>
      <th>4</th>
      <td>0</td>
      <td>Control</td>
    </tr>
  </tbody>
</table>
</div>
<h3 id="calculating-new-variables">Calculating new variables</h3>
<p>You may also want to recalculate or rescale some variables. For example, we can turn <code>Neuroticism</code> into a <em>z</em>-score, or calculate an average response across the four time points.</p>
<p>To compute a <em>z</em>-score, we can use the <code>zscore()</code> function from the <code>scipy.stats</code> module:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">from</span> <span style="color:#000">scipy.stats</span> <span style="color:#204a87;font-weight:bold">import</span> <span style="color:#000">zscore</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;NeuroticismZ&#39;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">zscore</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;Neuroticism&#39;</span><span style="color:#000;font-weight:bold">])</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;NeuroticismZ&#39;</span><span style="color:#000;font-weight:bold">]</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">hist</span><span style="color:#000;font-weight:bold">();</span>
</span></span></code></pre></div><p><img src="output_90_0.png" alt="png"></p>
<p>To calculate the means across each day, we can use the <code>mean()</code> function from <code>pandas</code> on a dataframe that has been indexed to include only data from the four days:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;DayMean&#39;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[[</span><span style="color:#4e9a06">&#39;Day1&#39;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#4e9a06">&#39;Day2&#39;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#4e9a06">&#39;Day3&#39;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#4e9a06">&#39;Day4&#39;</span><span style="color:#000;font-weight:bold">]]</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">mean</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">axis</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;columns&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#39;DayMean&#39;</span><span style="color:#000;font-weight:bold">]</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">hist</span><span style="color:#000;font-weight:bold">();</span>
</span></span></code></pre></div><p><img src="output_93_0.png" alt="png"></p>
<h3 id="combining-data-from-multiple-sources">Combining data from multiple sources</h3>
<p>Sometimes, data might be spread across multiple files, and you&rsquo;ll want to combine those for your analysis. For example, maybe this study had a follow-up survey on Day 30. Scores from that survey were entered into another spreadsheet, which only has the subject ID and that score. We want to include that score into our data.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># first load the followup dataset</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata2</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">pd</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">read_csv</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Study1_Followup.csv&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><p>We can use the function <code>merge()</code> to combine the two dataframes. To make sure the data matches up, we use the <code>on</code> argument to specify that IDs should match. That way even if the data is in a different order, scores will match together correctly.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">merge</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">mydata2</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">on</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;ID&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">head</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Age</th>
      <th>Sex</th>
      <th>Condition</th>
      <th>Neuroticism</th>
      <th>Day1</th>
      <th>Day2</th>
      <th>Day3</th>
      <th>Day4</th>
      <th>ConditionF</th>
      <th>NeuroticismZ</th>
      <th>DayMean</th>
      <th>Day30</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>21.0</td>
      <td>Female</td>
      <td>0</td>
      <td>67</td>
      <td>5</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
      <td>Control</td>
      <td>0.754583</td>
      <td>2.75</td>
      <td>6</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>22.0</td>
      <td>Female</td>
      <td>1</td>
      <td>63</td>
      <td>4</td>
      <td>1</td>
      <td>5</td>
      <td>2</td>
      <td>Treatment</td>
      <td>0.418450</td>
      <td>3.00</td>
      <td>6</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>24.0</td>
      <td>Male</td>
      <td>1</td>
      <td>58</td>
      <td>6</td>
      <td>2</td>
      <td>6</td>
      <td>2</td>
      <td>Treatment</td>
      <td>-0.001715</td>
      <td>4.00</td>
      <td>6</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>22.0</td>
      <td>Female</td>
      <td>1</td>
      <td>51</td>
      <td>2</td>
      <td>3</td>
      <td>6</td>
      <td>5</td>
      <td>Treatment</td>
      <td>-0.589946</td>
      <td>4.00</td>
      <td>3</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>19.0</td>
      <td>Female</td>
      <td>0</td>
      <td>49</td>
      <td>7</td>
      <td>6</td>
      <td>5</td>
      <td>2</td>
      <td>Control</td>
      <td>-0.758013</td>
      <td>5.00</td>
      <td>6</td>
    </tr>
  </tbody>
</table>
</div>
<h3 id="shaping-data">Shaping data</h3>
<p>Finally, you may want to change the layout of your data. Right now, our dataframe is in &ldquo;wide&rdquo; format, which means that each row is a subject, and each observation gets its own column. For some analyses, you&rsquo;ll need to use &ldquo;long&rdquo; format, where each row is an observation, and columns specify things like <code>Time</code> and <code>ID</code> to differentiate the observations. For this, we can use the <code>melt()</code> function in <code>pandas</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">value_cols</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#4e9a06">&#34;Day1&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#4e9a06">&#34;Day2&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#4e9a06">&#34;Day3&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#4e9a06">&#34;Day4&#34;</span><span style="color:#000;font-weight:bold">]</span> <span style="color:#8f5902;font-style:italic"># columns we would like to convert to a single &#34;long&#34; column</span>
</span></span><span style="display:flex;"><span><span style="color:#000">id_cols</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87">list</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">columns</span><span style="color:#000;font-weight:bold">)</span> <span style="color:#8f5902;font-style:italic"># columns we would like to stay in the same &#34;wide&#34; format</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">for</span> <span style="color:#000">i</span> <span style="color:#204a87;font-weight:bold">in</span> <span style="color:#000">value_cols</span><span style="color:#000;font-weight:bold">:</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">id_cols</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">remove</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">i</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><h4 id="wide--long">Wide → Long</h4>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata_Long</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">pd</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">melt</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">mydata</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">id_vars</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">id_cols</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">var_name</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;Time&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">value_vars</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">value_cols</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">value_name</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;Score&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata_Long</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">head</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Age</th>
      <th>Sex</th>
      <th>Condition</th>
      <th>Neuroticism</th>
      <th>ConditionF</th>
      <th>NeuroticismZ</th>
      <th>DayMean</th>
      <th>Day30</th>
      <th>Time</th>
      <th>Score</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>21.0</td>
      <td>Female</td>
      <td>0</td>
      <td>67</td>
      <td>Control</td>
      <td>0.754583</td>
      <td>2.75</td>
      <td>6</td>
      <td>Day1</td>
      <td>5</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>22.0</td>
      <td>Female</td>
      <td>1</td>
      <td>63</td>
      <td>Treatment</td>
      <td>0.418450</td>
      <td>3.00</td>
      <td>6</td>
      <td>Day1</td>
      <td>4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>24.0</td>
      <td>Male</td>
      <td>1</td>
      <td>58</td>
      <td>Treatment</td>
      <td>-0.001715</td>
      <td>4.00</td>
      <td>6</td>
      <td>Day1</td>
      <td>6</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>22.0</td>
      <td>Female</td>
      <td>1</td>
      <td>51</td>
      <td>Treatment</td>
      <td>-0.589946</td>
      <td>4.00</td>
      <td>3</td>
      <td>Day1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>19.0</td>
      <td>Female</td>
      <td>0</td>
      <td>49</td>
      <td>Control</td>
      <td>-0.758013</td>
      <td>5.00</td>
      <td>6</td>
      <td>Day1</td>
      <td>7</td>
    </tr>
  </tbody>
</table>
</div>
<h4 id="long--wide">Long → Wide</h4>
<p>We can go back in the other direction by using the <code>pivot_table()</code> function in <code>pandas</code>:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#000">mydata_Wide</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#000">mydata_Long</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">pivot_table</span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">values</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;Score&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">index</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#000">id_cols</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#000">columns</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#39;Time&#39;</span><span style="color:#000;font-weight:bold">)</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">reset_index</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata_Wide</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">columns</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">name</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">None</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata_Wide</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">head</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }
<pre><code>.dataframe tbody tr th {
    vertical-align: top;
}

.dataframe thead th {
    text-align: right;
}
</code></pre>
<p></style></p>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ID</th>
      <th>Age</th>
      <th>Sex</th>
      <th>Condition</th>
      <th>Neuroticism</th>
      <th>ConditionF</th>
      <th>NeuroticismZ</th>
      <th>DayMean</th>
      <th>Day30</th>
      <th>Day1</th>
      <th>Day2</th>
      <th>Day3</th>
      <th>Day4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>21.0</td>
      <td>Female</td>
      <td>0</td>
      <td>67</td>
      <td>Control</td>
      <td>0.754583</td>
      <td>2.75</td>
      <td>6</td>
      <td>5</td>
      <td>2</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>22.0</td>
      <td>Female</td>
      <td>1</td>
      <td>63</td>
      <td>Treatment</td>
      <td>0.418450</td>
      <td>3.00</td>
      <td>6</td>
      <td>4</td>
      <td>1</td>
      <td>5</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>24.0</td>
      <td>Male</td>
      <td>1</td>
      <td>58</td>
      <td>Treatment</td>
      <td>-0.001715</td>
      <td>4.00</td>
      <td>6</td>
      <td>6</td>
      <td>2</td>
      <td>6</td>
      <td>2</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>22.0</td>
      <td>Female</td>
      <td>1</td>
      <td>51</td>
      <td>Treatment</td>
      <td>-0.589946</td>
      <td>4.00</td>
      <td>3</td>
      <td>2</td>
      <td>3</td>
      <td>6</td>
      <td>5</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>19.0</td>
      <td>Female</td>
      <td>0</td>
      <td>49</td>
      <td>Control</td>
      <td>-0.758013</td>
      <td>5.00</td>
      <td>6</td>
      <td>7</td>
      <td>6</td>
      <td>5</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>
<hr>
<h2 id="saving-your-work">Saving Your Work</h2>
<p>Once you&rsquo;ve created a data cleaning script like this one, you&rsquo;ll have a record of all the edits you&rsquo;ve made on the raw data, and you can recreate your cleaned data just by running the script again. However, it&rsquo;s often easier to save your cleaned data as its own file <strong>(never overwrite the raw data)</strong>, so when you come back to do analysis you don&rsquo;t have to bother with all the cleaning steps.</p>
<p>You can always save data frames as a .csv for easy sharing and viewing outside of Python.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"># write data to a .csv</span>
</span></span><span style="display:flex;"><span><span style="color:#000">mydata</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#000">to_csv</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Study1_clean.csv&#34;</span><span style="color:#000;font-weight:bold">,</span><span style="color:#000">index</span> <span style="color:#ce5c00;font-weight:bold">=</span> <span style="color:#204a87;font-weight:bold">False</span><span style="color:#000;font-weight:bold">)</span>
</span></span></code></pre></div><hr>
<h2 id="future-directions">Future Directions</h2>
<p>Congratulations! You&rsquo;ve now cleaned some data in Python and you&rsquo;re ready to start working with your data. This tutorial only went over some basic cleaning steps. As you work with your own data, you may find yourself needing other tools.</p>
<p><strong>Next:</strong> <a href="../../../tutorials/python/3-datamanipulation/">Data Manipulation in Python</a></p>

    </article>
  </div>

</body>

<footer class="footer">
  © 2021 Columbia Psychology Scientific Computing
  <script src="//yihui.org/js/math-code.js"></script>
  <script async
    src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
  </script>
</footer>

</html>
